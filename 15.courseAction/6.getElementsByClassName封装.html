<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        window.onload = function () {
//            var divs = document.getElementsByClassName("demo");//低版本ie不支持
//            console.log(divs.length);
            //封装getElementsByClassName，以兼容低版本IE浏览器
            function getElemByClass(className){
                //判断浏览器是否支持原生方法
                if(document.getElementsByClassName){
                    return document.getElementsByClassName(className);
                }else{
//                    var txt = className.split(" ")
                    //通过getElementsByTagName("*")找到页面所有标签
                    var elems = document.getElementsByTagName("*");
                    //定义数组，用来存放匹配className的元素
                    var arr = [];
//                 遍历所有元素,找包含className的元素，然后放入arr
                    for(var i=0;i<elems.length;i++){
                       //对于有多个class的元素，先对类名进行切割  class="demo test"
                        var txtArr = elems[i].className.split(" ");
                        //遍历类名数组
                        for(var j=0;j<txtArr.length;j++){
                            //如果包含className
                            if(txtArr[j] == className){
                                //将包含类名的--元素--放入arr
                                arr.push(elems[i]);
                            }
                        }
                    }
                    return arr;
                }
            }
            var divs = getElemByClass("aaa");
            console.log(divs.length);
        }
    </script>
</head>
<body>
<div></div>
<div class="demo test"></div>
<div></div>
<div></div>
<div class="demo test"></div>
<div class="aaa test"></div>
<div></div>
<div class="demo"></div>
<div></div>
<div></div>
</body>
</html>